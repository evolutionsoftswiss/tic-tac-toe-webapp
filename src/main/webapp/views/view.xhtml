<?xml version="1.0"?>

<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
    locale="#{facesContext.externalContext.requestLocale}"
>
	<h:head>
		<h:outputStylesheet library="css" name="tic-tac-toe.css" />
	</h:head>

	<h:body styleClass="ticTacToeBody">

		<h:form id="menuForm">

			<div>
				<h:commandButton actionListener="#{gameView.newGame()}"
					value="#{i18n['tictactoe.newGame']}"
					styleClass="menuButton">
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
			</div>

			<div>
				<h:commandButton actionListener="#{gameView.switchColors()}"
					value="#{i18n['tictactoe.switchColors']}"
					disabled="#{!gameView.switchColorsEnabled}"
					styleClass="menuButton">
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:outputText value="#{i18n[gameView.startPlayerText]}"
							   styleClass="menuLabel" />
			</div>

		</h:form>

		<h:form id="tictactoeForm" class="playgroundPanel">

			<h:panelGrid columns="3">
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(0,0)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(0,0)}">
					<f:param name="fieldNumber" value="0" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(0,1)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(0,1)}">
					<f:param name="fieldNumber" value="1" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(0,2)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(0,2)}">
					<f:param name="fieldNumber" value="2" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(1,0)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(1,0)}">
					<f:param name="fieldNumber" value="3" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(1,1)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(1,1)}">
					<f:param name="fieldNumber" value="4" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(1,2)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(1,2)}">
					<f:param name="fieldNumber" value="5" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(2,0)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(2,0)}">
					<f:param name="fieldNumber" value="6" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(2,1)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(2,1)}">
					<f:param name="fieldNumber" value="7" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
				<h:commandButton actionListener="#{gameView.move()}"
					value="#{gameView.getPlaygroundField(2,2)}"
					styleClass="gameField gameStone#{gameView.getPlaygroundField(2,2)}">
					<f:param name="fieldNumber" value="8" />
					<f:ajax render="menuForm tictactoeForm" />
				</h:commandButton>
			</h:panelGrid>

			<h:outputLabel value="#{i18n[gameView.statusText]}"
				styleClass="statusText" />

		</h:form>

	</h:body>

</f:view>
